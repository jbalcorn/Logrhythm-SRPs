## telegram bot

This SRP Allows user to send alarm information to a telegram private channel .



On an incident day - team may require this too :) 



For using this : 



### 1. Make a telegram public channel ( later you can make it private once chat id obtained) 





### 2 . Create a Telegram BOT via BotFather

 - Search for the “botfather” telegram bot (he’s the one that’ll assist you with creating and managing your bot)

 - Type /help to see all possible commands the botfather can handle
 - Click on or type /newbot to create a new bot.
 - Follow instructions and make a new name for your bot. If you are making a bot just for experimentation, it can be useful to namespace your bot by placing your name before it in its username, since it has to be a unique name. Although, its screen name can be whatever you like.
 - Congratulations! You have created your first bot. You should see a new API token generated for it.


### 3.  Set the bot as administrator in your channel



### 4.  Obtain the channel ID by sending a test msg



https://api.telegram.org/bot[BOT_API_KEY]/sendMessage?chat_id=[MY_CHANNEL_NAME]&text=test


BOT_API_KEY is the API Key generated by BotFather when you created your bot
MY_CHANNEL_NAME is the handle of your channel (e.g. @my_channel_name)
 
 As response you will get info with chat_id of your channel.

{ "ok" : true, "result" : { "chat" : { "id" : -1001005582487, "title" : "Test Private Channel", "type" : "channel" }, "date" : 1448245538, "message_id" : 7, "text" : "123ds" } }



### 5. Now you can convert Channel back to private (by deleting channel's link) and send message directly to this chat_id "1001005582487"



### 6. Use SRP 



You have  channel ID and API Key



Message  : the message to be send to telegram channel 

- use %0A for new line in chat

- use #param1# in message to get it replaced by param 1 field. 



eg: 

Use below as message: 

 Alarm:#param1#%0AUser:#param2# 

and in param1  and param 2 field  - select alarm fields alarm name and user origin 

So you will receive a telegram msg with :

Alarm: Userlogin
User: someone



Proxy: The proxy url in case SM needs that to access internet



Use Creds : The account/User running SM will be used for proxy auth
